define(function(require){function a(a){return!!a.timeInterval}function c(){z.init(k(S.bannerDom))}function g(){if(!A){var a=5,c=$("#menu-container").height();A=a+c}return A}function _(a){if(a&&a[0]){var c=a[0].getBoundingClientRect();return c.height+c.top>g()}return!1}function b(a){var c;switch(!0){case a.indicatorNum<=1:c=N.SINGLE;break;case a.autoplay:c=N.AUTOPLAY;break;default:c=N.MANUAL}return c}function h(c,g){var b={delay:1e3*+c.timeInterval,list:c.carouselArr,autoplay:a(c),backgroundSize:L,onClickItem:function(a){C(g),S.sendLog("click",a),S.invokeHandler(a)},onChange:function(a,c){0===a&&(S.isAutoSendLog=!0),c?S.sendLog("slide",a):_(S.bannerDom)&&(S.isAutoSendLog||S.sendLog("show",a))},onClickClose:function(){C(g),S.sendLog("close"),S.destroy(),D.css({marginTop:H,height:T})}};return window.sSession.isNewSearchStyleV2&&(b.indicatorActiveColor="#868686",b.indicatorDefaultColor="#dbdbdb"),new V(b)}function k(a){var c=a.children()[0],g=c.children;return{slideWrapperDom:a,slideMainDom:$(g[1]),slideIndicatorDom:$(g[2]),closeDom:$(g[0])}}function w(a,c,g){var _="function(obj){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n__p+='<div style=\"overflow: hidden;background: #fff;position: relative;\"><div style=\"position: relative;width: '+\n((__t=( width ))==null?'':__t)+\n';height: '+\n((__t=( height ))==null?'':__t)+\n';overflow: hidden;line-height: 0;z-index: 1;background: #fff;-webkit-tap-highlight-color: rgba(255, 0, 0, 0);display: block!important;margin: 10px auto;border-radius: 12px;'+\n((__t=( newSeStyleV2.container ))==null?'':__t)+\n''+\n((__t=( newSeStyleV3.container ))==null?'':__t)+\n'\"><a style=\"position: absolute;top: 0;right: 0;padding: 15px 15px 20px 20px;width: 11px;height: 11px;z-index: 10;'+\n((__t=( newSeStyleV3.position ))==null?'':__t)+\n'\">';\n if (isNewSearchStyleV2) { \n__p+='<div style=\"width: 100%;height: 100%;background: url(https://gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/baiduappAdCloseWhite_b84ffa8.png);background-size: 100%;background-position: center;background-repeat: no-repeat;background-image:url(https://gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/banner-close_28a050c.png);\"></div>';\n } else { \n__p+='<div style=\"width: 100%;height: 100%;background: url(https://gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/baiduappAdCloseWhite_b84ffa8.png);background-size: 100%;background-position: center;background-repeat: no-repeat;\"></div>';\n } \n__p+='</a><div style=\"display: -webkit-box;display: -ms-flexbox;display: flex;position: relative;background-color: #fff;white-space: nowrap;height: 100%;\">';\n list.forEach(function (item) { \n__p+='';\n if (item.bg_image) { \n__p+='<div style=\"height: 100%;width: 100%;background-color: #fff;display: inline-block;-webkit-box-flex: 0;-ms-flex: 0 0 auto;flex: 0 0 auto;background-repeat: no-repeat;background-position: center;background-size: '+\n((__t=( backgroundSize ))==null?'':__t)+\n';vertical-align: top;opacity: 1;z-index: 1;position: relative;background-image: url('+\n((__t=( item.bg_image ))==null?'':__t)+\n');'+\n((__t=( newSeStyleV3.radius ))==null?'':__t)+\n'\">';\n if (item.marker_text) { \n__p+='<div style=\"position: absolute;top: 0;left: 0;color: #fff;padding: 0 6px;font-size: 12px;line-height: 14px;border-radius: 0 0 4px 0;background-color: #ff5765;-webkit-transform: scale('+\n((__t=( scale ))==null?'':__t)+\n');transform: scale('+\n((__t=( scale ))==null?'':__t)+\n');-webkit-transform-origin: 0 0;transform-origin: 0 0;background: '+\n((__t=( item.marker_color ))==null?'':__t)+\n'\">'+\n((__t=( item.marker_text ))==null?'':__t)+\n'</div>';\n } \n__p+='</div>';\n } else { \n__p+='<div style=\"height: 100%;width: 100%;background-color: #fff;display: inline-block;-webkit-box-flex: 0;-ms-flex: 0 0 auto;flex: 0 0 auto;background-repeat: no-repeat;background-position: center;background-size: '+\n((__t=( backgroundSize ))==null?'':__t)+\n';vertical-align: top;opacity: 1;z-index: 1;position: relative;'+\n((__t=( newSeStyleV3.radius ))==null?'':__t)+\n'\"><div style=\"-webkit-box-sizing: border-box;box-sizing: border-box;width: '+\n((__t=( defaultWidth ))==null?'':__t)+\n';height: '+\n((__t=( defaultHeight ))==null?'':__t)+\n';-webkit-transform: scale('+\n((__t=( scale ))==null?'':__t)+\n');transform: scale('+\n((__t=( scale ))==null?'':__t)+\n');-webkit-transform-origin: 0 0;transform-origin: 0 0;background: -webkit-gradient(linear, left top, right top, from(#4C5CD9), to(#85CEF2));background: linear-gradient(to right, #4C5CD9, #85CEF2);background: '+\n((__t=( item.bg_color ))==null?'':__t)+\n';'+\n((__t=( newSeStyleV3.radius ))==null?'':__t)+\n'\">';\n if (item.marker_text) { \n__p+='<div style=\"position: absolute;top: 0;left: 0;color: #fff;padding: 0 6px;font-size: 12px;line-height: 14px;border-radius: 0 0 4px 0;background-color: #ff5765;background: '+\n((__t=( item.marker_color ))==null?'':__t)+\n'\">'+\n((__t=( item.marker_text ))==null?'':__t)+\n'</div>';\n } \n__p+='<div style=\"width: 210px;height: 100%;position: absolute;top: 0;left: 30px;text-align: left;overflow: hidden;\"><div style=\"line-height: 24px;color: #fff;font-size: 22px;font-weight: 600;font-family: PingFangSC-Medium;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;margin-top: 21px;\">'+\n((__t=( item.titleText || '百度APP' ))==null?'':__t)+\n'</div><div style=\"color: #fff;font-size: 14px;font-weight: 300;line-height: 20px;margin-top: 3px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;\">'+\n((__t=( item.hint || '有事搜一搜，没事看一看'))==null?'':__t)+\n'</div><div style=\"-webkit-box-sizing: border-box;box-sizing: border-box;padding: 0 14px;height: 24px;line-height: 24px;border-radius: 16px;border: 1px solid #fff;color: #fff;font-size: 15px;margin-top: 6px;float: left;text-align:center;\">'+\n((__t=( (item.btntext || '打开').substr(0,4) ))==null?'':__t)+\n'</div></div>';\n if (item.isXcx) { \n__p+='<div style=\"display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-align: center;-ms-flex-align: center;align-items: center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;min-width: .97rem;height: .97rem;position: absolute;right: 24px;top: 50%;-webkit-transform: translateY(-50%);transform: translateY(-50%);background: url(https://gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/xcx_background_new_c972d42.png);background-size: contain;background-position: center;background-repeat: no-repeat;\"><div style=\"width: 0.59rem;height: 0.59rem;background-size: contain;background-position: center;background-repeat: no-repeat;border-radius: 0.3rem;background-image: url('+\n((__t=( item.icon ))==null?'':__t)+\n')\"></div></div>';\n } else if (item.icon) { \n__p+='<div style=\"width: 128px;height: 103px;position: absolute;right: 30px;bottom: 0px;background: url(/static/img/bannerIcon.png);background-size: contain;background-position: center;background-repeat: no-repeat;background-image: url('+\n((__t=( item.icon ))==null?'':__t)+\n')\"></div>';\n } else { \n__p+='<div style=\"width: 128px;height: 103px;position: absolute;right: 30px;bottom: 0px;background: url(https://gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/bannerIcon_80ee9f5.png);background-size: contain;background-position: center;background-repeat: no-repeat;\"></div>';\n } \n__p+='</div></div>';\n } \n__p+='';\n }); \n__p+='</div><ul style=\"position: absolute;bottom: 0;left: 0;right: 0;padding: 0 10px;height: 18px;width: 100%;line-height: 18px;-webkit-box-sizing: border-box;box-sizing: border-box;text-align: center;display: none;'+\n((__t=( newSeStyleV3.indicator ))==null?'':__t)+\n'\">';\n for (var index = 0; index < indicatorNum; index++) { \n__p+='';\n if (index === list.length - 1) { \n__p+='<li style=\"position: relative;top: -2px;display: inline-block;width: 5px;height: 5px;border-radius: 3px;background-color: rgba(255,255,255,0.4);'+\n((__t=( newSeStyleV2.indicator ))==null?'':__t)+\n'\"></li>';\n } else { \n__p+='<li style=\"position: relative;top: -2px;display: inline-block;margin-right: .05rem;width: 5px;height: 5px;border-radius: 3px;background-color: rgba(255,255,255,0.4);'+\n((__t=( newSeStyleV2.indicator ))==null?'':__t)+\n'\"></li>';\n } \n__p+='';\n } \n__p+='</ul></div>';\n if (isNewSearchStyleV3) { \n__p+='<div style=\"margin: 12px 0;width: 67px;height: 103px;position: absolute;right: 0;top: 0;z-index: 5;background: -webkit-gradient(linear, left top, right top, from(rgba(255,255,255,0.00)), color-stop(91%, #FFFFFF));background: linear-gradient(90deg, rgba(255,255,255,0.00) 0%, #FFFFFF 91%);\"></div><div style=\"margin: 12px 0;width: 17px;height: 103px;position: absolute;left: 0;top: 0;z-index: 5;background: #FFFFFF;\"></div>';\n } \n__p+='</div>';\n}\nreturn __p;\n}";g.loginfo={experiment:b(c)};var h=new F(a,_,c,g);return h.specialHandlerArr.length&&h.appendToBody(),D.css({marginTop:"10px",height:"0px"}),h.sendLog("show"),h}function v(c){var g=window.sSession.invokeApps.control[c],_=window.sSession.isNewSearchStyleV2||!1,b=window.sSession.isNewSearchStyleV3||!1;if(g.carouselArr&&g.carouselArr.length){1===g.carouselArr.length&&g.timeInterval&&delete g.timeInterval,z=h(g,c);var k=I.getBannerSize(),w={container:"border-radius:.08rem;margin-top:11px;",indicator:"width:4px;height:4px;background:#dbdbdb;"},v={container:"overflow: visible;margin: 12px auto 12px 17px;",radius:"border-radius: 12px;margin-right: 8px;",indicator:"height: 9px;line-height: 0px;",position:"top: -1px;right: -2px;"};return{autoplay:a(g),list:z.listData,indicatorNum:z.list.length,backgroundSize:z.backgroundSize,defaultWidth:I.imgSize.WIDTH+"px",defaultHeight:I.imgSize.HEIGHT+"px",width:k.width+"px",height:k.height+"px",scale:k.width/I.imgSize.WIDTH,isNewSearchStyleV2:_,isNewSearchStyleV3:b,newSeStyleV2:_?w:{container:"",indicator:""},newSeStyleV3:b?v:{container:"",radius:"",indicator:"",position:""}}}}function y(a,g){var b=v(a);b&&(S=w(a,b,g),window.addEventListener("scroll",function(){z.freezeAutoPlay(_(S.bannerDom)?!0:!1)}),c())}var S,z,A,F=require("wiseindex/lib/ivk/common/Core"),C=require("wiseindex/lib/invoke/setInvokeCookie"),V=require("wiseindex/lib/ivk/common/Carousel"),I=require("wiseindex/lib/ivk/common/bannerConfig"),L="cover",N={AUTOPLAY:"autoplay",MANUAL:"manual",SINGLE:"single"},D=$("#navs .navs-bottom-bar"),T=D.css("height"),H=D.css("margin-top");return y});